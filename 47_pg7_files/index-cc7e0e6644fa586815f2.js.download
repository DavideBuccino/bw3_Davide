define(["classnames","react","react-dom","rendering-engine-api","z-shop-event-bus"],(function(e,n,t,i,r){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[33540],{14900:function(e){e.exports={id:"72abb6def0330cfd96c1b8992133f964cf1618d72bd70a19501188f7445811d7"}},13081:function(e,n,t){"use strict";t.d(n,{HW:function(){return o},Ib:function(){return s},Ks:function(){return d},S3:function(){return c},Vz:function(){return l},fY:function(){return i},iw:function(){return u},mO:function(){return f},oj:function(){return r},tC:function(){return a}});const i="CATEGORY_TREE$CATEGORY_CLICKED",r="UPDATE_VIEW",o="BREADCRUMBS$BREADCRUMB_CLICKED",u="ENTITY$SIZE_FILTER_OPENED",a="ENTITY$OPEN_ONBOARDING_DIALOG",l="ENTITY$TOGGLE_MOBILE_FILTERS",c="ENTITY$COMPLETED_BODY_MEASUREMENT_DIALOG",s="ENTITY$COMPLETED_ADD_REFERENCE_ITEM_DIALOG",d="ENTITY$EVENT_LOADING_IN_PROGRESS";var f;!function(e){e.updateAnyFilter="updateAnyFilter",e.updateDiscreteFilter="updateDiscreteFilter",e.updateRangeFilter="updateRangeFilter",e.updateToggleFilter="updateToggleFilter",e.updateSorting="updateSorting",e.updateClearAll="updateClearAll",e.updatePage="updatePage"}(f||(f={}))},93035:function(e,n,t){"use strict";var i,r;t.d(n,{h:function(){return i},o:function(){return r}}),function(e){e.BodyMeasurement="BODY_MEASUREMENT",e.SizeOnboarding="SIZE_ONBOARDING"}(i||(i={})),function(e){e.OLD_EXPERIENCE="OLD_EXPERIENCE",e.NEW_EXPERIENCE="NEW_EXPERIENCE"}(r||(r={}))},6866:function(e,n,t){"use strict";function i(e){return"options"in e}function r(e){return"range"in e}function o(e){return!i(e)&&!r(e)}function u(e){return!!e&&("kind"in e&&"group"===e.kind)}t.d(n,{Bj:function(){return u},_E:function(){return o},dk:function(){return i},r5:function(){return r}})},63252:function(e,n,t){"use strict";t.d(n,{A:function(){return s}});var i=t(7882),r=t(16405),o=t(6866),u=t(456);const a=e=>{const n=e.find((e=>e.key===r.xf));if(n&&(0,o.dk)(n))return n},l=e=>{const n=e.find((e=>{let{key:n}=e;return n===r.kW}));if(n&&(0,r.At)(n))return n},c=e=>{const n=e.find((e=>{let{key:n}=e;return n===r.xf}));if(n&&(0,r.At)(n))return n};var s=function(e,n,t,r,o,s){void 0===s&&(s=[i.CT]);let d=[];if(o){const n=e.find((e=>e.key===u.j));var f,g;if(n&&n.options[0])d.push({key:n.key,url_key:n.uriKey,options:[{key:null==(f=n.options[0])?void 0:f.key,url_key:null==(g=n.options[0])?void 0:g.uriKey}]})}else d=e.filter((e=>!s.includes(e.key))).map((e=>{switch(e.__typename){case"CollectionDiscreteFacet":return function(e,n){const t=n&&n.find((n=>n.key===e.key)),i=[],r=[];if(t||e.isSelected){const n=t?e=>t.options.includes(e.key):e=>e.isSelected;e.options.forEach((e=>{n(e)&&(r.push(e),i.push(...e.childKeys))}))}const o=r.filter((e=>!i.includes(e.key))).map((e=>({key:e.key,url_key:e.uriKey})));return 0===o.length?null:{key:e.key,url_key:e.uriKey,options:o}}(e,t.discrete);case"CollectionRangeFacet":return function(e,n){let t;const i=n&&n.find((n=>n.key===e.key));return i?t={minimum:i.minimum,maximum:i.maximum}:e.selectedRange&&(t={minimum:e.selectedRange.minimum,maximum:e.selectedRange.maximum}),!t||"number"!=typeof t.minimum&&"number"!=typeof t.maximum?null:{key:e.key,minimum_url_key:e.minimumUriKey,maximum_url_key:e.maximumUriKey,selectedRange:{minimum:null===t.minimum?void 0:t.minimum,maximum:null===t.maximum?void 0:t.maximum}}}(e,t.range);case"CollectionToggleFacet":return function(e,n){const t=n&&n.find((n=>n.key===e.key));return(t?t.isSelected:e.isSelected)?{key:e.key,url_key:e.uriKey,option:{url_key:"true"}}:null}(e,t.toggle);default:return null}})).filter((e=>null!==e)),r&&function(e,n){const t=a(e),i=c(n),r=l(n),o=(null==i?void 0:i.options.length)===(null==t?void 0:t.options.length);(null==t?void 0:t.options.length)&&o&&!(null==r?void 0:r.options.length)&&n.push({key:"your_brands",url_key:"your_brands",option:{url_key:"true"}})}(e,d);return n&&n.discreteFilters&&function(e,n){n.forEach((n=>{const{key:t,uriKey:i,options:r}=n,o=e.findIndex((e=>e.key===t));if(o>=0&&e[o].options){const n=e[o].options;r.forEach((t=>{n.find((e=>e.key===t.key))||e[o].options.push({key:t.key,url_key:t.uriKey})}))}else e.push({key:t,url_key:i,options:r.map((e=>({key:e.key,url_key:e.uriKey})))})}))}(d,n.discreteFilters),n&&n.rangeFilters&&function(e,n){n.forEach((n=>{const{key:t,maximumUriKey:i,minimumUriKey:r,maximum:o,minimum:u}=n;e.find((e=>e.key===t))||e.push({key:t,minimum_url_key:r,maximum_url_key:i,selectedRange:{minimum:null===u?void 0:u,maximum:null===o?void 0:o}})}))}(d,n.rangeFilters),n&&n.toggleFilters&&function(e,n){n.forEach((n=>{const{key:t,uriKey:i}=n;e.find((e=>e.key===t))||e.push({key:t,url_key:i,option:{url_key:"true"}})}))}(d,n.toggleFilters),d}},16405:function(e,n,t){"use strict";t.d(n,{At:function(){return l},CS:function(){return c},I2:function(){return o},JR:function(){return s},c9:function(){return a},cU:function(){return g},kW:function(){return r},uK:function(){return f},wN:function(){return d},xf:function(){return i}});const i="followed_brands",r="brands",o="prices",u="sustainability_benefits",a="sustainability_product_standard";function l(e){return"options"in e}function c(e){return"selectedRange"in e}function s(e){return!l(e)&&!c(e)}function d(e){return e===r}function f(e){return e===o}function g(e){return e===u}},7882:function(e,n,t){"use strict";t.d(n,{q4:function(){return l},CT:function(){return a},$r:function(){return k},XU:function(){return v},Tz:function(){return R},a4:function(){return f},yZ:function(){return p},gR:function(){return E},pJ:function(){return T},dc:function(){return I},nL:function(){return b},TW:function(){return g},t5:function(){return h},Ov:function(){return A}});var i=t(93035),r=t(14900),o=t.n(r);var u=t(6866);const a="your_sizes",l="sizes",c="catalog.size_onboarding_add_size_info_tooltip",s={cookieId:c,minTimespan:864e5,times:2},d={cookieId:"catalog.size_onboarding__size_filter_applied_tooltip",minTimespan:0,times:1},f=e=>{const n=e.find((e=>e.key===a));if(n)return n},g=(e,n)=>{const t=[...e];let i=!1;const r=e.findIndex((e=>p(e)));if(r<=0)return{sizeFacetSortedUp:i,sortedFacets:t};const o=e[r];if((0,u.Bj)(o)){var a;const e=f(o.facets);if((null==e||null==(a=e.onboarding)?void 0:a.contextKey)&&!n.cookies.get(c)){const e=t.splice(r,1)[0];e&&t.splice(0,0,e),i=!0}}return{sizeFacetSortedUp:i,sortedFacets:t}},p=e=>(0,u.Bj)(e)?e.groupKey===l:e.key===l;var m,y,_;const E=e=>({__typename:"CollectionDiscreteFacet",key:l,label:null!=(m=null==e?void 0:e.groupLabel)?m:"",isSelected:!1,groupKey:null!=(y=null==e?void 0:e.groupKey)?y:null,groupLabel:null!=(_=null==e?void 0:e.groupLabel)?_:null,options:[],uriKey:"",description:"",isSelectAllEnabled:!1,selectionType:"single_select"}),k=e=>{const n=e.find((e=>p(e)));if(n)return n},v=e=>(null==e?void 0:e.isSelected)?d:s,I=(e,n)=>{var t,r;return(null==e?void 0:e.isSelected)&&"LEGACY_SINGLE_STEP"===n||(null==e||null==(t=e.onboarding)?void 0:t.contextKey)&&(null==(r=e.onboarding)?void 0:r.kind)!==i.h.BodyMeasurement},T=(e,n)=>{if(!0===n.cookies.get(e.cookieId)){const t={count:1,updated:0};n.cookies.set(e.cookieId,t,Number.MAX_SAFE_INTEGER)}const t=n.cookies.get(e.cookieId);if(!t)return!0;const i=Math.abs(Date.now()-t.updated);return t.count<e.times&&i>e.minTimespan},b=(e,n)=>{var t;return!(!(null==e||null==(t=e.onboarding)?void 0:t.contextKey)||!T(s,n))},R=(e,n,t,i)=>t&&t.isSelected!==i?i?t.label:n.label:e,h=async(e,n)=>{try{const t=await(e=>{let{executeMutation:n,isEnabled:t}=e;return n({...o(),variables:{toggleSizeFilterPreferenceInput:{clientMutationId:"toggle-size-filter-preference",isEnabled:t}}},{loginRequired:!0})})({executeMutation:e.executeMutation,isEnabled:n});if(t.errors&&t.errors.size>0)throw new Error("Failed to toggle your size");return{status:!0}}catch{return(e=>{let{content:n,timeout:i=3e3,preset:r="initial"}=e;Promise.all([t.e(29674),t.e(16791)]).then(t.bind(t,65733)).then((e=>{e.showNotification({content:n,timeout:i,preset:r})}))})({content:__("filter.description.yoursizes.error.message"),preset:"error"}),{status:!1}}},A=e=>{let{tools:n,isEnabled:t,sizeFilterPreferencesEnabled:i}=e;return i?Promise.resolve({status:!0}):h(n,t)}},456:function(e,n,t){"use strict";t.d(n,{j:function(){return i}});const i="top_choices"},31193:function(e,n,t){"use strict";t.d(n,{b:function(){return r}});var i=t(85959);function r(e,n){let{isPaginationRequest:t}=n;const[r,o]=(0,i.useState)(e);return(0,i.useEffect)((()=>{t||r===e||o(e)}),[e,t]),r}},51091:function(e,n,t){"use strict";t.d(n,{Dq:function(){return a},Zh:function(){return l},_H:function(){return u}});var i=t(32740),r=t(63252);const o=e=>{const n=e.find((e=>"sizes"===e.key)),t=[];return null!=n&&t.push([n.key,__("seo.url.parameter.size")]),new Map(t)},u=(e,n)=>!1===n?void 0:e,a=()=>__("link.catalog"),l=e=>{let{fullTextQuery:n,entityId:t,changedFilters:a={},page:l,data:c,sortType:s,shouldResetFilters:d,shouldPreserveSearchContext:f}=e;const g=(0,r.A)(c.facets,c.hiddenFilters,a,!1,!!d),p=l||c.page;let m=[],y=[];for(const e of g)"options"in e&&("sizes"===e.key&&(m=e.options.map((e=>{let{key:n}=e;return n}))),"lengths"===e.key&&(y=e.options.map((e=>{let{key:n}=e;return n}))));return 1===m.length&&1===y.length&&(isNaN(Number(m[0]))||isNaN(Number(y[0]))||(m=[m[0]+"x"+y[0]])),[{[i.ENTITY_TYPE]:"collection",id:t||c.entityId,page:null!==p?String(p):void 0,filters:g,rootCategory:c.rootCategory,fullTextQuery:n||c.fullTextQuery,searchContext:u(c.searchContext,f)},{sort:s||c.sort,sizes:m},o(g)]}},29658:function(){window.__RENDERING_ENGINE_TRANSLATION_KEYS__={...window.__RENDERING_ENGINE_TRANSLATION_KEYS__,"collection_catalog-pagination":["a11y.pagination.previous","a11y.pagination.next","catalog.pagination.pageNumberFrom"]}},47822:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var i=t(85959),r=t(21775),o=t(32740),u=t(37275),a=t(19087),l=t(30812),c=t.n(l),s=t(5073),d=t(38856),f=t(75839),g=t(31435),p=t(86610),m=t(36124),y=t(3906),_=t(2673),E=t(10170),k=t(9266),v=t(89862);const I={};function T(e,n){const{pageInfo:{currentPage:t,numberOfPages:i},linkTo:r,onClick:o,tracking:u}=n,a=(t||1)+("prev"===e?-1:1);return{href:r(a),title:"prev"===e?__("a11y.pagination.previous"):__("a11y.pagination.next"),disabled:"prev"==e&&1==t||"next"==e&&t==i,onClick:t=>{t.preventDefault(),((e,n,t)=>{e.track({name:v.S$,context:{label:"prev"===n?k.PaginationLabel.PREVIOUS:k.PaginationLabel.NEXT}},t.prio3);const i={name:"select_content",context:{legacy_event_name:v.S$,event_trigger_name:"pagination."+n}};e.trackStandalone(i,t.prio3)})(u,e,n.ga4TrackingConfig),o(a,e)}}}const b=e=>{i.useEffect((()=>(I.pageInfo=n,()=>{delete I.pageInfo})));const{pageInfo:n,tracking:t,ga4TrackingConfig:r}=e;if(!n.currentPage||!n.numberOfPages)return null;const{currentPage:u,numberOfPages:a}=n;return i.createElement(o.ViewTracker,{onVisible:()=>{var e,n;((e,n,t,i)=>{e.track({name:v.lr,context:{label:n+"."+t}},i.prio3);const r={name:"view_content",context:{legacy_event_name:v.lr,event_trigger_name:"pagination."+n}};e.trackStandalone(r,i.prio3)})(t,(null==(e=I.pageInfo)?void 0:e.currentPage)||0,(null==(n=I.pageInfo)?void 0:n.numberOfPages)||0,r)}},i.createElement("nav",{className:c()(f.nME,d.t4),"data-module":"true"},i.createElement("div",{className:c()(s.OL,d.Fn,E.XDg)},i.createElement(y.A,T("prev",e),i.createElement(m.A,{src:g.A})),i.createElement(_.Ay,{"aria-atomic":"true","aria-live":"polite",className:c()(E.nj5,E.Sq8)},__("catalog.pagination.pageNumberFrom",u,a)),i.createElement(y.A,{...T("next",e),"data-testid":"pagination-next"},i.createElement(m.A,{src:p.A})))))};var R=t(13081),h=t(51091),A=t(31193);const x={};var N=(0,o.tile)().withQueries((e=>{const n=e.context.TEMPORARY_DPS_HACK_CATALOG_QUERY_VARIABLES||{},t=(0,a.FF)(n,e);return{collection:{query:u,variables:t}}})).withTracking((e=>({def:x,context:{id:e.entity.id},useData:()=>({source:"collection",trackingData:{context:{entity_id:e.entity.id}}})}))).withProcessDependencies(((e,n)=>{let{ruleData:t}=n;var i,r,o,u;const a=e.collection.collection,l=null==a||null==(i=a.entities)?void 0:i.pageInfo;var c;var s;return{action:"render",data:{facets:null!=(c=null==a||null==(r=a.entities)?void 0:r.facets)?c:[],hiddenFilters:null!=(s=null==a||null==(o=a.entities)?void 0:o.hiddenFilters)?s:null,pageInfo:l,sort:null==a||null==(u=a.entities)?void 0:u.orderedBy,ga4TrackingConfig:{prio3:{enableStandaloneInShadow:!!t.enableStandaloneInShadowPrio3,enableStandaloneOnly:!!t.enableStandaloneOnlyPrio3}}}}})).withRender((e=>{let{data:n,tools:t,entity:o,context:u}=e;var a,l;const c=null==(a=u.TEMPORARY_DPS_HACK_CATALOG_QUERY_VARIABLES)?void 0:a.filters,s=Boolean(null==(l=u.TEMPORARY_DPS_HACK_CATALOG_QUERY_VARIABLES)?void 0:l.isPaginationRequest),d=(0,A.b)(n.facets,{isPaginationRequest:s}),f=(0,A.b)(n.hiddenFilters,{isPaginationRequest:s});return n.pageInfo?i.createElement(b,{pageInfo:n.pageInfo,linkTo:e=>t.navigation.linkTo(...(0,h.Zh)({page:e,data:{entityId:o.id,facets:d,hiddenFilters:f,page:e,rootCategory:(0,h.Dq)(),fullTextQuery:null==c?void 0:c.fullTextQuery,searchContext:null==c?void 0:c.searchContext,sort:n.sort}})),tracking:t.tracking,onClick:e=>{var t,i;r.trigger(R.oj,{eventName:R.mO.updatePage,payload:[e,null==(t=n.pageInfo)?void 0:t.startCursor,null==(i=n.pageInfo)?void 0:i.endCursor]})},ga4TrackingConfig:n.ga4TrackingConfig}):null}))},30812:function(n){"use strict";n.exports=e},85959:function(e){"use strict";e.exports=n},48398:function(e){"use strict";e.exports=t},32740:function(e){"use strict";e.exports=i},21775:function(e){"use strict";e.exports=r}},function(e){var n=function(n){return e(e.s=n)};return e.O(0,[29674],(function(){return n(29658),n(47822)})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/collection_catalog-pagination/index-33d639d97c861b0d4f87.map